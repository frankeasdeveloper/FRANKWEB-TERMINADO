/* ============================================
   ANIMACIÓN 3D DE CUBOS CON GEMAS - ROTACIÓN 360°
   Sistema de rotación continua y fluida
   ============================================ */

.product-card .product-gem {
    width: 200px !important;
    height: 200px !important;
    margin: 0 auto 1.5rem !important;
    perspective: 1200px;
    position: relative;
    text-align: center;
}

/* Contenedor que rota */
.product-card .product-gem .product-gem-rotator {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    animation: rotate360 12s linear infinite;
}

/* La imagen del cubo */
.product-card .product-gem .product-gem-rotator img {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    position: relative;
    z-index: 1;
}

/* Colores por gema - definir como custom properties */
.product-card.zafiro {
    --gem-glow-color: #a855f7;
}

.product-card.emerald {
    --gem-glow-color: #10b981;
}

.product-card.diamond {
    --gem-glow-color: #06b6d4;
}

/* ANIMACIÓN DE ROTACIÓN 360° */
@keyframes rotate360 {
    0% {
        transform: rotateY(0deg) rotateX(5deg);
    }

    100% {
        transform: rotateY(360deg) rotateX(5deg);
    }
}

/* Efecto hover - ralentizar rotación */
.product-card .product-gem:hover .product-gem-rotator {
    animation-duration: 24s;
}

/* ANIMACIÓN DE GLOW UNIFICADA - SINCRONIZADA PARA TODAS LAS GEMAS */
.product-card .product-gem .product-gem-rotator img {
    animation: glowGem 3s ease-in-out infinite;
    filter: drop-shadow(0 0 30px var(--gem-glow-color));
}

/* Keyframes unificados usando CSS variable */
@keyframes glowGem {

    0%,
    100% {
        filter: drop-shadow(0 0 30px var(--gem-glow-color));
    }

    50% {
        filter: drop-shadow(0 0 60px var(--gem-glow-color)) drop-shadow(0 0 90px var(--gem-glow-color));
    }
}

/* Optimización de performance */
.product-card .product-gem,
.product-card .product-gem .product-gem-rotator,
.product-card .product-gem .product-gem-rotator img {
    will-change: transform;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

/* Ajuste responsive */
@media (max-width: 768px) {
    .product-card .product-gem {
        width: 150px !important;
        height: 150px !important;
    }
}